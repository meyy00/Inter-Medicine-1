!function (t, e) {
    t.fn.extend({
        scrollspy: function (n) {
            // Configurações padrão do plugin
            var a = {
                namespace: "scrollspy",
                activeClass: "active",
                animate: !1,
                offset: 0,
                container: e
            };

            // Mescla as configurações padrão com as configurações fornecidas pelo usuário
            n = t.extend({}, a, n);

            // Função para calcular a soma de dois números
            var o = function (t, e) {
                return parseInt(t, 10) + parseInt(e, 10);
            };

            // Função para obter informações sobre os elementos a serem observados
            var r = function (e) {
                var n = [];
                for (var a = 0; a < e.length; a++) {
                    var o = e[a],
                        r = t(o).attr("href"),
                        f = t(r);
                    if (f.length > 0) {
                        var s = Math.floor(f.offset().top),
                            i = s + Math.floor(f.outerHeight());
                        n.push({
                            element: f,
                            hash: r,
                            top: s,
                            bottom: i
                        });
                    }
                }
                return n;
            };

            // Função para encontrar o elemento de navegação correspondente ao hash
            var f = function (e, n) {
                for (var a = 0; a < e.length; a++) {
                    var o = t(e[a]);
                    if (o.attr("href") === n) return o;
                }
            };

            // Função para remover a classe ativa de todos os elementos de navegação
            var s = function (e) {
                for (var a = 0; a < e.length; a++) {
                    var o = t(e[a]);
                    o.parent().removeClass(n.activeClass);
                }
            };

            // Retorna os elementos correspondentes aos seletores jQuery
            return this.each(function () {
                var a = this,
                    i = t(n.container),
                    l = t(a).find("a"),
                    c = 0;

                for (var h = 0; h < l.length; h++) {
                    var v = l[h];
                    t(v).on("click", function (a) {
                        var r = t(this).attr("href"),
                            f = t(r);
                        if (f.length > 0) {
                            var s = o(f.offset().top, n.offset);
                            n.animate ?
                                t("html, body").animate({ scrollTop: s }, 1000) :
                                e.scrollTo(0, s);
                            a.preventDefault();
                        }
                    });
                }

                var p = r(l);

                i.bind("scroll." + n.namespace, function () {
                    var e, r = {
                        top: o(t(this).scrollTop(), Math.abs(n.offset)),
                        left: t(this).scrollLeft()
                    };

                    for (var i = 0; i < p.length; i++) {
                        var c = p[i];
                        if (r.top >= c.top && r.top < c.bottom) {
                            var h = c.hash;
                            if (e = f(l, h)) {
                                n.onChange && n.onChange(c.element, t(a), r);
                                s(l);
                                e.parent().addClass(n.activeClass);
                                break;
                            }
                        }
                    }

                    // Se nenhum elemento estiver ativo, chama a função onExit
                    !e && n.onExit && n.onExit(t(a), r);
                });
            });
        }
    });
}(jQuery, window, document, void 0);
